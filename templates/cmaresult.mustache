{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_cma/result

    Classes required for JS:
    * None

    Data attibutes required for JS:
    * None

    Context variables required for this template:
    * scaleid
    * fields
    * fields.value
    * rows
    * row
    * row.validated

    Example context (json):
    {
        "scaleid": 3,
        "fields": [
            { "value": "something" }
        ],
        "rows" : [
            {"row": [
                {"validated": "lp_success"}
            ]}
        ]
    }
}}
<div class="row">
    <div class="col-md-6">
        <div data-role="page" id="intro" class="cmapage">
            <div data-role="content">
                <div class="card">
                    <h2 class="card-header">{{#str}}modeapprentissage, mod_cma{{/str}}</h2>
                    <div class="card-block">
                        <p class="card-text">
                        <table class="table">
                        <thead>
                        <tr><th></th><th>{{#str}}points, mod_cma{{/str}}</th></tr>
                        <caption>{{#str}}decouvrezmodes, mod_cma{{/str}}</caption>
                        <tr><td>{{#str}}experienceconcrete, mod_cma{{/str}}</td><td>{{ec}}</td></tr>
                        <tr><td>{{#str}}observationreflechie, mod_cma{{/str}}</td><td>{{obr}}</td></tr>
                        <tr><td>{{#str}}conceptualisationabstraite, mod_cma{{/str}}</td><td>{{ca}}</td></tr>
                        <tr><td>{{#str}}experimentationactive, mod_cma{{/str}}</td><td>{{ea}}</td></tr>
                        </table>
                        </p>
                     </div>
                </div>
                <div class="card">
                    <h2 class="card-header">{{#str}}profilapprentissage, mod_cma{{/str}}</h2>
                    <div class="card-block">
                        <p class="card-text">{{#str}}profildesc, mod_cma{{/str}}.</p>
                        <div class="alert alert-success"><p class="card-text">{{#str}}yourprofile, mod_cma{{/str}} : <a href="#" data_role="button" id="btn_profil" data-toggle="modal" data-target="#{{typekey}}modal">{{type}}</a>.</p></div>
                        <p class="card-text">{{#str}}allprofiles, mod_cma{{/str}} : <a href="#" data_role="button" id="btn_profil" data-toggle="modal" data-target="#accomodateurmodal">{{#str}}accomodateur, mod_cma{{/str}}</a> - <a href="#" data_role="button" id="btn_profil" data-toggle="modal" data-target="#assimilateurmodal">{{#str}}assimilateur, mod_cma{{/str}}</a> - <a href="#" data_role="button" id="btn_profil" data-toggle="modal" data-target="#divergentmodal">{{#str}}divergent, mod_cma{{/str}}</a> - <a href="#" data_role="button" id="btn_profil" data-toggle="modal" data-target="#convergentmodal">{{#str}}convergent, mod_cma{{/str}}</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
    <p class="cma-text">{{#str}}comparerscore, mod_cma{{/str}} :</p>
    {{#charts}}
        <div class="card">
            <div class="card-block">
                {{> core/chart}}
            </div>
        </div>
      {{/charts}}
      </div>

</div>
<div class="row">
            <div data-role="footer" class="cmafooter">
            <div class="card text-white bg-info mb-3">
                    <div class="card-block">
                        <h4 class="card-title">{{#str}}allerplusloin, mod_cma{{/str}}</h4>
                        <p class="card-text">
                        <a href="{{& testurl}}" data-role="button" class="btn btn-primary">{{#str}}recommencer, mod_cma{{/str}}</a>
                    <a href="#cmafooter2" data-role="button" class="btn btn-primary" data-toggle="modal" data-target="#explicationsmodal">{{#str}}explications, mod_cma{{/str}}</a>
                    <a href="#cmafooter3" data-role="button" class="btn btn-primary" data-toggle="modal" data-target="#aboutmodal">{{#str}}about, mod_cma{{/str}}</a></p>
                    </div>
            </div>
            </div>
</div>

<!-- Modal : accomodateur -->
<div class="modal fade" id="accomodateurmodal" tabindex="-1" role="dialog" aria-labelledby="accomodateur">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="accomodateurlabel">{{#str}}accomodateur, mod_cma{{/str}}</h4>
      </div>
      <div class="modal-body">
        <p>{{#str}}accomodateurdesc, mod_cma{{/str}}</p>
      </div>
    </div>
  </div>
</div>

<!-- Modal : divergent -->
<div class="modal fade" id="divergentmodal" tabindex="-1" role="dialog" aria-labelledby="divergent">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="divergentlabel">{{#str}}divergent, mod_cma{{/str}}</h4>
      </div>
      <div class="modal-body">
        <p>{{#str}}divergentdesc, mod_cma{{/str}}</p>
      </div>
    </div>
  </div>
</div>

<!-- Modal : assimilateur -->
<div class="modal fade" id="assimilateurmodal" tabindex="-1" role="dialog" aria-labelledby="assimilateur">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="assimilateurlabel">{{#str}}assimilateur, mod_cma{{/str}}</h4>
      </div>
      <div class="modal-body">
        <p>{{#str}}assimilateurdesc, mod_cma{{/str}}</p>
      </div>
    </div>
  </div>
</div>

<!-- Modal : convergent -->
<div class="modal fade" id="convergentmodal" tabindex="-1" role="dialog" aria-labelledby="convergent">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="convergentlabel">{{#str}}convergent, mod_cma{{/str}}</h4>
      </div>
      <div class="modal-body">
        <p>{{#str}}convergentdesc, mod_cma{{/str}}</p>
      </div>
    </div>
  </div>
</div>

<!-- Modal : explications -->
<div class="modal fade" id="explicationsmodal" tabindex="-1" role="dialog" aria-labelledby="explications">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="explicationslabel">{{#str}}explications, mod_cma{{/str}}</h4>
      </div>
      <div class="modal-body">
        <p>{{#str}}explicationsdesc, mod_cma{{/str}}</p>
      </div>
    </div>
  </div>
</div>

<!-- Modal : about -->
<div class="modal fade" id="aboutmodal" tabindex="-1" role="dialog" aria-labelledby="about">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="aboutlabel">{{#str}}about, mod_cma{{/str}}</h4>
      </div>
      <div class="modal-body">
        <p>{{#str}}aboutdesc, mod_cma{{/str}}</p>
      </div>
    </div>
  </div>
</div>


